
<div class="container d-flex justify-content-center">

  <button type="button" (click)="WithDiscount()"      class="btn btn-primary" style="background-color: #964B00;width: 15%;padding: 10px;margin-left: 1%;margin-bottom: 35px;">With Discounts</button>
  <button type="button" (click)="withoutDiscount()"   class="btn btn-primary" style="background-color: #964B00;width: 15%;padding: 10px;margin-left: 1%;margin-bottom: 35px;">Without Discounts</button>

</div>

<router-outlet></router-outlet>

<app-parent></app-parent>


<!-- (4) Make an input where user enters his Name, and use two-way binding (Banana
  operator) to bind it to "ClientName" property in the class -->
<label style="margin-left: 20px;" for="usr">Enter Your Name:</label>
<input type="text" [(ngModel)]="ClientName" class="form-control" style="width:20%; margin-left: 20px;" id="usr">
<br>
<h5 style="color: #964B00;margin-left: 20px; font-weight: bold;">Client Name: <span>{{ClientName}}</span></h5>

<div class="row">

  <div class="col">
    <div class="card" style="width: 20rem; height: 450px;">
      <img class="card-img-top" [src]="ProductList[0].Img" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">{{ProductList[0].Name}}</h5>
        <p class="card-text">Quantity: {{ProductList[0].Quantity}} </p>
        <p class="card-text">Price: {{ProductList[0].Price}} </p>
        <p class="card-text">Category: {{CategoryList[0].Name}} </p>

        <div *ngIf="Discount > 0">

          <span style="color:#964B00; font-weight: bold;">We offer an explicit discount of: </span>
          <button type="button" style="color:white" class="btn btn-warning p-1">{{Discount |percent}}</button>

        </div>

      </div>
    </div>
  </div>

  <div class="col">
    <div class="card" style="width: 20rem; height: 450px;">
      <img class="card-img-top" [src]="ProductList[1].Img" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">{{ProductList[1].Name}}</h5>
        <p class="card-text">Quantity: {{ProductList[1].Quantity}} </p>
        <p class="card-text">Price: {{ProductList[1].Price}} </p>
        <p class="card-text">Category: {{CategoryList[1].Name}} </p>
        <p class="card-text">IsPurchased: {{IsPurchased}} </p>

        <div *ngIf="Discount > 0">

          <span style="color:#964B00; font-weight: bold;">We offer an explicit discount of: </span>
          <button type="button" style="color:white" class="btn btn-warning p-1">{{Discount |percent}}</button>

        </div>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card" style="width: 20rem; height: 450px;">
      <img class="card-img-top" [src]="ProductList[2].Img" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">{{ProductList[2].Name}}</h5>
        <p class="card-text">Quantity: {{ProductList[2].Quantity}} </p>
        <p class="card-text">Price: {{ProductList[2].Price}} </p>
        <p class="card-text">Category: {{CategoryList[2].Name}} </p>
        <p class="card-text">IsPurchased: {{IsPurchased}} </p>

        <div *ngIf="Discount > 0">

          <span style="color:#964B00; font-weight: bold;">We offer an explicit discount of: </span>
          <button type="button" style="color:white" class="btn btn-warning p-1">{{Discount |percent}}</button>

        </div>

      </div>
    </div>
  </div>

  <div class="col">
    <div class="card" style="width: 20rem; height: 450px;">
      <img class="card-img-top" [src]="ProductList[3].Img" alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">{{ProductList[3].Name}}</h5>
        <p class="card-text">Quantity: {{ProductList[3].Quantity}} </p>
        <p class="card-text">Price: {{ProductList[3].Price}} </p>
        <p class="card-text">Category: {{CategoryList[3].Name}} </p>
        <p class="card-text">IsPurchased: {{IsPurchased}} </p>

      <div *ngIf="Discount > 0">

          <span style="color:#964B00; font-weight: bold;">We offer an explicit discount of: </span>
          <button type="button" style="color:white" class="btn btn-warning p-1">{{Discount |percent}}</button>

        </div>

      </div>
    </div>
  </div>

</div>

<!-- Drop Down List ngFor Categories -->
<div class="dropdown">
  <button style="color:white" class="btn btn-warning dropdown-toggle p-2" type="button" id="dropdownMenuButton2"
    data-bs-toggle="dropdown" aria-expanded="false">
    Display All Categories
  </button>
  <ul class="dropdown-menu dropdown-menu p-2  " style="width:12.5%" aria-labelledby="dropdownMenuButton2">
    <li><a class="dropdown-item p-2 " href="#" *ngFor="let cat of CategoryList">{{cat.Name}}</a></li>

  </ul>
</div>


<div class="row" >

</div>
<!-- Table ngFor Products  -->
<ng-template  #elseBlock>

<table  class="table table-hover table-bordered" style="width:70%; margin-left: auto;margin-right: auto; margin-bottom: 30px;">

  <thead>
    <tr>
      <th scope="col" style="color:#964B00">ID</th>
      <th scope="col" style="color:#964B00">Name</th>
      <th scope="col" style="color:#964B00">Quantity</th>
      <th scope="col" style="color:#964B00">Price</th>
      <th scope="col" style="color:#964B00">Image</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let product of ProductList">
      <th scope="row">{{product.ID}}</th>
      <td>{{product.Name}}</td>
      <td>{{product.Quantity}}</td>
      <td>{{product.Price}}</td>
      <td><img [src]="product.Img" width="70rem"></td>
    </tr>

  </tbody>
</table>
</ng-template>



    <div class="row" *ngIf="IsPurchased; else elseBlock;">
       <h3>Thanks <span class="h3" style="color:#964B00">{{ClientName}}</span>  for purchasing from our Store </h3>
    </div>



<!--  Hide Table -->
<button type="button"  (click)="hideMe()" class="btn btn-primary" style="background-color: #964B00;width: 8%;padding: 10px;margin-left: 45%;margin-bottom: 30px;">Buy</button>

<!-- to check get product by id function --><br>
<input type="text" [(ngModel)]="storeProdID" style="margin-left: 35%;">

<button type="button"  (click)="getByID(storeProdID)" class="btn btn-primary" style="background-color: #964B00;width: 15%;padding: 10px;margin-left: 1%;margin-bottom: 35px;">Get Product By ID</button>

<table  class="table table-hover table-bordered" style="width:70%; margin-left: auto;margin-right: auto; margin-bottom: 30px;">

  <thead>
    <tr>
      <th scope="col" style="color:#964B00">ID</th>
      <th scope="col" style="color:#964B00">Name</th>
      <th scope="col" style="color:#964B00">Quantity</th>
      <th scope="col" style="color:#964B00">Price</th>
      <th scope="col" style="color:#964B00">Image</th>
    </tr>
  </thead>
  <tbody>
    <tr >
      <th scope="row">{{productObject.ID}}</th>
      <td>{{productObject.Name}}</td>
      <td>{{productObject.Quantity}}</td>
      <td>{{productObject.Price}}</td>
      <td><img [src]="productObject.Img" width="70rem"></td>
    </tr>

  </tbody>
</table>












